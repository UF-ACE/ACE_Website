{"ast":null,"code":"import { useCallback } from 'react';\nimport useMutation from './useMutation';\n/**\n * Get a callback to call the dataProvider.delete() method, the result\n * of the call (the deleted record), and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - initial: [deleteOne, { loading: false, loaded: false }]\n * - start:   [deleteOne, { loading: true, loaded: false }]\n * - success: [deleteOne, { data: [data from response], loading: false, loaded: true }]\n * - error:   [deleteOne, { error: [error from response], loading: false, loaded: false }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param id The resource identifier, e.g. 123\n * @param previousData The record before the delete is applied\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success or failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [deleteOne, { data, error, loading, loaded }].\n *\n * The deleteOne() function can be called in 3 different ways:\n *  - with the same parameters as the useDelete() hook: deleteOne(resource, id, previousData, options)\n *  - with the same syntax as useMutation: deleteOne({ resource, payload: { id, previousData } }, options)\n *  - with no parameter (if they were already passed to useDelete()): deleteOne()\n *\n * @example // set params when calling the deleteOne callback\n *\n * import { useDelete } from 'react-admin';\n *\n * const DeleteButton = ({ record }) => {\n *     const [deleteOne, { loading, error }] = useDelete();\n *     const handleClick = () => {\n *         deleteOne('likes', record.id, record)\n *     }\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={handleClick}>Delete</div>;\n * };\n *\n * @example // set params when calling the hook\n *\n * import { useDelete } from 'react-admin';\n *\n * const DeleteButton = ({ record }) => {\n *     const [deleteOne, { loading, error }] = useDelete('likes', record.id, record);\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={deleteOne}>Delete</button>;\n * };\n */\n\nvar useDelete = function (resource, id, previousData, options) {\n  if (previousData === void 0) {\n    previousData = {};\n  }\n\n  var _a = useMutation({\n    type: 'delete',\n    resource: resource,\n    payload: {\n      id: id,\n      previousData: previousData\n    }\n  }, options),\n      mutate = _a[0],\n      state = _a[1];\n\n  var deleteOne = useCallback(function (resource, id, previousData, options) {\n    if (typeof resource === 'string') {\n      var query = {\n        type: 'delete',\n        resource: resource,\n        payload: {\n          id: id,\n          previousData: previousData\n        }\n      };\n      return mutate(query, options);\n    } else {\n      return mutate(resource, id);\n    }\n  }, [mutate] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n  return [deleteOne, state];\n};\n\nexport default useDelete;","map":{"version":3,"sources":["/Users/cameronkeene/Documents/GitHub/ACE_Website/client/node_modules/ra-core/esm/dataProvider/useDelete.js"],"names":["useCallback","useMutation","useDelete","resource","id","previousData","options","_a","type","payload","mutate","state","deleteOne","query"],"mappings":"AAAA,SAASA,WAAT,QAA4B,OAA5B;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIC,SAAS,GAAG,UAAUC,QAAV,EAAoBC,EAApB,EAAwBC,YAAxB,EAAsCC,OAAtC,EAA+C;AAC3D,MAAID,YAAY,KAAK,KAAK,CAA1B,EAA6B;AAAEA,IAAAA,YAAY,GAAG,EAAf;AAAoB;;AACnD,MAAIE,EAAE,GAAGN,WAAW,CAAC;AAAEO,IAAAA,IAAI,EAAE,QAAR;AAAkBL,IAAAA,QAAQ,EAAEA,QAA5B;AAAsCM,IAAAA,OAAO,EAAE;AAAEL,MAAAA,EAAE,EAAEA,EAAN;AAAUC,MAAAA,YAAY,EAAEA;AAAxB;AAA/C,GAAD,EAA0FC,OAA1F,CAApB;AAAA,MAAwHI,MAAM,GAAGH,EAAE,CAAC,CAAD,CAAnI;AAAA,MAAwII,KAAK,GAAGJ,EAAE,CAAC,CAAD,CAAlJ;;AACA,MAAIK,SAAS,GAAGZ,WAAW,CAAC,UAAUG,QAAV,EAAoBC,EAApB,EAAwBC,YAAxB,EAAsCC,OAAtC,EAA+C;AACvE,QAAI,OAAOH,QAAP,KAAoB,QAAxB,EAAkC;AAC9B,UAAIU,KAAK,GAAG;AACRL,QAAAA,IAAI,EAAE,QADE;AAERL,QAAAA,QAAQ,EAAEA,QAFF;AAGRM,QAAAA,OAAO,EAAE;AACLL,UAAAA,EAAE,EAAEA,EADC;AAELC,UAAAA,YAAY,EAAEA;AAFT;AAHD,OAAZ;AAQA,aAAOK,MAAM,CAACG,KAAD,EAAQP,OAAR,CAAb;AACH,KAVD,MAWK;AACD,aAAOI,MAAM,CAACP,QAAD,EAAWC,EAAX,CAAb;AACH;AACJ,GAf0B,EAexB,CAACM,MAAD,CAfwB,CAef;AAfe,GAA3B;AAiBA,SAAO,CAACE,SAAD,EAAYD,KAAZ,CAAP;AACH,CArBD;;AAsBA,eAAeT,SAAf","sourcesContent":["import { useCallback } from 'react';\nimport useMutation from './useMutation';\n/**\n * Get a callback to call the dataProvider.delete() method, the result\n * of the call (the deleted record), and the loading state.\n *\n * The return value updates according to the request state:\n *\n * - initial: [deleteOne, { loading: false, loaded: false }]\n * - start:   [deleteOne, { loading: true, loaded: false }]\n * - success: [deleteOne, { data: [data from response], loading: false, loaded: true }]\n * - error:   [deleteOne, { error: [error from response], loading: false, loaded: false }]\n *\n * @param resource The resource name, e.g. 'posts'\n * @param id The resource identifier, e.g. 123\n * @param previousData The record before the delete is applied\n * @param options Options object to pass to the dataProvider. May include side effects to be executed upon success or failure, e.g. { onSuccess: { refresh: true } }\n *\n * @returns The current request state. Destructure as [deleteOne, { data, error, loading, loaded }].\n *\n * The deleteOne() function can be called in 3 different ways:\n *  - with the same parameters as the useDelete() hook: deleteOne(resource, id, previousData, options)\n *  - with the same syntax as useMutation: deleteOne({ resource, payload: { id, previousData } }, options)\n *  - with no parameter (if they were already passed to useDelete()): deleteOne()\n *\n * @example // set params when calling the deleteOne callback\n *\n * import { useDelete } from 'react-admin';\n *\n * const DeleteButton = ({ record }) => {\n *     const [deleteOne, { loading, error }] = useDelete();\n *     const handleClick = () => {\n *         deleteOne('likes', record.id, record)\n *     }\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={handleClick}>Delete</div>;\n * };\n *\n * @example // set params when calling the hook\n *\n * import { useDelete } from 'react-admin';\n *\n * const DeleteButton = ({ record }) => {\n *     const [deleteOne, { loading, error }] = useDelete('likes', record.id, record);\n *     if (error) { return <p>ERROR</p>; }\n *     return <button disabled={loading} onClick={deleteOne}>Delete</button>;\n * };\n */\nvar useDelete = function (resource, id, previousData, options) {\n    if (previousData === void 0) { previousData = {}; }\n    var _a = useMutation({ type: 'delete', resource: resource, payload: { id: id, previousData: previousData } }, options), mutate = _a[0], state = _a[1];\n    var deleteOne = useCallback(function (resource, id, previousData, options) {\n        if (typeof resource === 'string') {\n            var query = {\n                type: 'delete',\n                resource: resource,\n                payload: {\n                    id: id,\n                    previousData: previousData,\n                },\n            };\n            return mutate(query, options);\n        }\n        else {\n            return mutate(resource, id);\n        }\n    }, [mutate] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n    return [deleteOne, state];\n};\nexport default useDelete;\n"]},"metadata":{},"sourceType":"module"}