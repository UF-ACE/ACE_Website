{"ast":null,"code":"var _jsxFileName = \"/Users/jakerichard/Desktop/ACE_Website/client/src/pages/AddOfficersPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport firebase from \"./firebase\";\nimport { OfficerInput } from './OfficerInput';\nimport ProfileOfficer from \"../features/ProfileOfficer\";\nimport \"./AddOfficersPage.css\";\nimport { NavItem } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst db = firebase.firestore();\n\nfunction AddOfficersPage() {\n  _s();\n\n  const [officers, setOfficers] = React.useState([]);\n  const [fileUrl, setFileUrl] = React.useState(null);\n  const [users, setUsers] = React.useState([]);\n  React.useEffect(() => {\n    const db = firebase.firestore();\n    return db.collection('officers').onSnapshot(snapshot => {\n      const officersData = [];\n      snapshot.forEach(doc => officersData.push({ ...doc.data(),\n        id: doc.id\n      }));\n      setOfficers(officersData);\n    });\n  }, []);\n\n  const onFileChange = async e => {\n    const file = e.target.files[0];\n    const storageRef = firebase.storage().ref();\n    const fileRef = storageRef.child(file.name);\n    await fileRef.put(file);\n    setFileUrl(await fileRef.getDownloadURL());\n    console.log(fileRef.getDownloadURL());\n  };\n\n  const onSubmit = async e => {\n    e.preventDefault();\n    const username = e.target.username.value;\n    const role = e.target.role.value;\n    const email = e.target.email.value;\n    const linkedin = e.target.linkedin.value;\n\n    if (!username || !fileUrl) {\n      return;\n    }\n\n    await db.collection(\"officers\").doc(username).set({\n      name: username,\n      role: role,\n      email: email,\n      linkedin: linkedin,\n      avatar: fileUrl\n    });\n  };\n\n  useEffect(() => {\n    const fetchUsers = async () => {\n      const officersCollection = await db.collection(\"officers\").get();\n      setUsers(officersCollection.docs.map(doc => {\n        return doc.data();\n      }));\n    };\n\n    fetchUsers();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modify_page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"insert_feild\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col\",\n          children: /*#__PURE__*/_jsxDEV(NavItem, {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              className: \"nav-link\",\n              to: \"/ACE_Website/Admin\",\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Modify Officers\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col\",\n          children: /*#__PURE__*/_jsxDEV(NavItem, {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              className: \"nav-link\",\n              to: \"/ACE_Website/AdminLearn\",\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Modify Learn Page\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"current_officers\",\n        children: officers.map(officer => /*#__PURE__*/_jsxDEV(OfficerInput, {\n          officer: officer\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Insert New Officer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"test_input\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input_form\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: onSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"username\",\n              placeholder: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"role\",\n              placeholder: \"Role\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"email\",\n              placeholder: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"linkedin\",\n              placeholder: \"LinkedIn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              onChange: onFileChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"submit_button\",\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"about_officers\",\n          children: officers.map(officer => /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(ProfileOfficer, {\n              src: officer.avatar,\n              role: officer.role,\n              name: officer.name,\n              linkedin: officer.linkedin,\n              email: \"mailto:\" + officer.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 21\n            }, this)\n          }, officer.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AddOfficersPage, \"SlVMYPxyRY/slz5lqNkf3pcKejI=\");\n\n_c = AddOfficersPage;\nexport default AddOfficersPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddOfficersPage\");","map":{"version":3,"sources":["/Users/jakerichard/Desktop/ACE_Website/client/src/pages/AddOfficersPage.js"],"names":["React","useEffect","firebase","OfficerInput","ProfileOfficer","NavItem","Link","db","firestore","AddOfficersPage","officers","setOfficers","useState","fileUrl","setFileUrl","users","setUsers","collection","onSnapshot","snapshot","officersData","forEach","doc","push","data","id","onFileChange","e","file","target","files","storageRef","storage","ref","fileRef","child","name","put","getDownloadURL","console","log","onSubmit","preventDefault","username","value","role","email","linkedin","set","avatar","fetchUsers","officersCollection","get","docs","map","officer"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react';\nimport firebase from \"./firebase\";\nimport { OfficerInput } from './OfficerInput';\nimport ProfileOfficer from \"../features/ProfileOfficer\";\nimport \"./AddOfficersPage.css\";\nimport { NavItem } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\n\n\nconst db = firebase.firestore();\n\nfunction AddOfficersPage() {\n  const [officers, setOfficers] = React.useState([]);\n\n\n  const [fileUrl, setFileUrl] = React.useState(null);\n  const [users, setUsers] = React.useState([]);\n\n  React.useEffect( () => {\n      const db = firebase.firestore();\n      return db.collection('officers').onSnapshot((snapshot) => {\n        const officersData = [];\n        snapshot.forEach(doc => officersData.push({ ...doc.data(), id: doc.id }));\n        setOfficers(officersData);\n      });\n  }, []);\n\n  const onFileChange = async (e) =>{\n    const file = e.target.files[0];\n    const storageRef = firebase.storage().ref();\n    const fileRef = storageRef.child(file.name);\n    await fileRef.put(file);\n    setFileUrl( await fileRef.getDownloadURL());\n    console.log(fileRef.getDownloadURL());\n  }\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    const username = e.target.username.value;\n    const role = e.target.role.value;\n    const email = e.target.email.value;\n    const linkedin = e.target.linkedin.value;\n    if (!username || !fileUrl) {\n      return;\n    }\n    await db.collection(\"officers\").doc(username).set({\n      name: username,\n      role: role,\n      email: email,\n      linkedin: linkedin,\n      avatar: fileUrl,\n    });\n  };\n\n  useEffect(() => {\n    const fetchUsers = async () => {\n      const officersCollection = await db.collection(\"officers\").get();\n      setUsers(\n        officersCollection.docs.map((doc) => {\n          return doc.data();\n        })\n      );\n    };\n    fetchUsers();\n  }, []);\n\n  return (\n    <div className = \"modify_page\">\n      <div className = \"insert_feild\">\n        <div class = \"row\">\n        <div class = \"col\">\n        <NavItem>\n                <Link className=\"nav-link\" to=\"/ACE_Website/Admin\">\n                <h3>Modify Officers</h3>         \n                </Link>\n        </NavItem>\n        </div>\n        <div class = \"col\">\n        <NavItem>\n                <Link className=\"nav-link\" to=\"/ACE_Website/AdminLearn\">\n                <h3>Modify Learn Page</h3>         \n                </Link>\n        </NavItem>\n        </div>\n        </div>\n      <ul className = \"current_officers\">\n          {officers.map(officer =>(\n              <OfficerInput officer = {officer}/>\n          ))}\n      </ul>    \n\n      <h3>Insert New Officer</h3>\n      <div className=\"test_input\">\n        <div className = \"input_form\">\n          <form onSubmit={onSubmit}>\n            <input type=\"text\" name=\"username\" placeholder=\"Name\" />\n            <input type=\"text\" name=\"role\" placeholder=\"Role\" />\n            <input type=\"text\" name=\"email\" placeholder=\"Email\" />\n            <input type=\"text\" name=\"linkedin\" placeholder=\"LinkedIn\" />\n            <input type=\"file\" onChange={onFileChange} />\n\n            <button className = \"submit_button\">Submit</button>\n          </form>\n        </div>\n\n\n        <div className=\"about_officers\">\n                {officers.map(officer =>(\n                  <div key = {officer.id}>\n                    <ProfileOfficer\n                      src={(officer.avatar)}\n                      role = {officer.role}\n                      name = {officer.name}\n                      linkedin = {officer.linkedin}\n                      email = {\"mailto:\" + officer.email}\n                    />\n                  </div>\n                ))}\n        </div>\n      </div>\n      \n\n      </div>\n      \n\n      </div>\n      \n  );\n}\n\nexport default AddOfficersPage;\n"]},"metadata":{},"sourceType":"module"}